{
 "name": "travis",
 "id": "a815ccdc-7e42-4383-9336-e89383babfa8",
 "scenario_trigger": "travis",
 "description": "קבלת נתוני נוסעים, יעדים ומסלולים",
 "active": true,
 "updated": "2020-03-26T18:58:11.7450000Z",
 "userDisplayName": "Yoav Dobrin",
 "code": "{\"version\":3,\"steps\":[{\"id\":\"088c0847698f-93174507d196ba1b-3e98\",\"type\":\"prompt\",\"dataType\":\"string\",\"designer\":{\"xLocation\":107,\"yLocation\":60,\"next\":\"a3c04f48245b-aa3e253d30144cca-4fa5\"},\"text\":\"אנא הכנס תז\",\"variable\":\"id_num\",\"stringId\":\"stringId_f2a49925f216b071\"},{\"id\":\"a3c04f48245b-aa3e253d30144cca-4fa5\",\"type\":\"datasource\",\"designer\":{\"xLocation\":160,\"yLocation\":120,\"next\":\"639805697f73-3c8139afc8ea8409-d08f\"},\"dataConnection\":\"\",\"urlBase\":\"https://drivingmod.azurewebsites.net/api\",\"urlPath\":\"/GetCities\",\"urlParams\":\"code=83YrhazKaFowQSEsQFRk9VwKgadZzxh9LGxVCTI0S9b6Z3XGInZEJA==\",\"method\":\"get\",\"headers\":\"\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"cities\",\"error\":\"err\",\"label\":\"Data Connection: Get Cities\"},{\"id\":\"dd305a6796c3-e682c2f623bfef96-4f68\",\"type\":\"prompt\",\"dataType\":\"scenario.destinations\",\"designer\":{\"xLocation\":140,\"yLocation\":240,\"listStyle\":3,\"next\":\"663304f5ffc3-0369de0142c558a4-8068\"},\"text\":\"בחר יעד מהרשימה\",\"variable\":\"destination\",\"stringId\":\"stringId_0c8b3d72251fb174\",\"choiceType\":\"choice\"},{\"id\":\"639805697f73-3c8139afc8ea8409-d08f\",\"type\":\"action\",\"label\":\"Action\",\"designer\":{\"xLocation\":208,\"yLocation\":168,\"next\":\"dd305a6796c3-e682c2f623bfef96-4f68\"},\"onInit\":\"scenario.destinations = [];\\n\\nvar len = ${cities}.data.length\\n\\nfor (i = 0; i < len; i++) {\\n  scenario.destinations[i]= ${cities}.data[i].CityName;\\n\\n}\"},{\"id\":\"620242f7e7eb-c0ffb6afa8dd2f46-c5da\",\"type\":\"datasource\",\"designer\":{\"xLocation\":260,\"yLocation\":440,\"next\":\"39a1e3693c71-24a54e02a4f2db34-1720\"},\"dataConnection\":\"\",\"urlBase\":\"https://drivingmod.azurewebsites.net/api\",\"urlPath\":\"/GetRoutes\",\"urlParams\":\"code=w0fYQrdyawO7IUyCeka5uem3vDzDu5l0JWYhcnvn79UcAr86hDLGww==\",\"method\":\"get\",\"headers\":\"\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"ResultRoutes\"},{\"id\":\"39a1e3693c71-24a54e02a4f2db34-1720\",\"type\":\"action\",\"label\":\"Action\",\"designer\":{\"xLocation\":200,\"yLocation\":508,\"next\":\"ef3d5754f53b-a3460eb11089adc0-9921\"},\"onInit\":\"scenario.routes = [];\\n\\nvar len = ${ResultRoutes}.data.length\\n\\nfor (i = 0; i < len; i++) {\\n  scenario.routes[i]= ${ResultRoutes}.data[i].RouteName;\\n\\n}\"},{\"id\":\"ef3d5754f53b-a3460eb11089adc0-9921\",\"type\":\"prompt\",\"dataType\":\"scenario.routes\",\"designer\":{\"xLocation\":340,\"yLocation\":540,\"listStyle\":3,\"next\":\"dd8181d29e72-bfa7ed9184e12fda-ffe1\"},\"text\":\"בחר מסלול מהרשימה\",\"variable\":\"route\",\"stringId\":\"stringId_0c8b3d72251fb174\",\"choiceType\":\"choice\"},{\"id\":\"663304f5ffc3-0369de0142c558a4-8068\",\"type\":\"datasource\",\"designer\":{\"xLocation\":74,\"yLocation\":291,\"next\":\"fd63a83dc6b8-dcaee3d4f50fa1d0-b802\"},\"dataConnection\":\"\",\"urlBase\":\"https://drivingmod.azurewebsites.net/api\",\"urlPath\":\"/GetCities\",\"urlParams\":\"code=83YrhazKaFowQSEsQFRk9VwKgadZzxh9LGxVCTI0S9b6Z3XGInZEJA==\",\"method\":\"get\",\"headers\":\"\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"ResultOrigins\",\"error\":\"err\",\"label\":\"Data Connection: Get Cities\"},{\"id\":\"fd63a83dc6b8-dcaee3d4f50fa1d0-b802\",\"type\":\"action\",\"label\":\"Action\",\"designer\":{\"xLocation\":210,\"yLocation\":340,\"next\":\"7a8e6ed3b9a5-ff3de72b868c4b29-307c\"},\"onInit\":\"scenario.origins = [];\\n\\nvar len = ${ResultOrigins}.data.length\\n\\nfor (i = 0; i < len; i++) {\\n  scenario.origins[i]= ${ResultOrigins}.data[i].CityName;\\n\\n}\"},{\"id\":\"7a8e6ed3b9a5-ff3de72b868c4b29-307c\",\"type\":\"prompt\",\"dataType\":\"scenario.origins\",\"designer\":{\"xLocation\":87,\"yLocation\":420,\"listStyle\":3,\"next\":\"620242f7e7eb-c0ffb6afa8dd2f46-c5da\"},\"text\":\"בחר מקור מהרשימה\",\"variable\":\"origin\",\"stringId\":\"stringId_0c8b3d72251fb174\",\"choiceType\":\"choice\"},{\"id\":\"2877b5bc5833-d6612ce3a2c5f3fd-2999\",\"type\":\"statement\",\"designer\":{\"xLocation\":873,\"yLocation\":580},\"text\":\"${result}\",\"stringId\":\"stringId_d5bd9b97ccabe9df\"},{\"id\":\"dd8181d29e72-bfa7ed9184e12fda-ffe1\",\"type\":\"action\",\"label\":\"Action\",\"designer\":{\"xLocation\":440,\"yLocation\":587,\"next\":\"5aea5f1c87b9-4f5fca24fc856c38-464e\"},\"onInit\":\"scenario.message = \\\" תודה שהשתמשת בטרביס  \\\"+\\\" \\\\n\\\";;\\nscenario.message += \\\"אלו הפרטים שקלטתי עד כה\\\" +\\\" \\\\n\\\";\\nscenario.message += \\\"מספר אישי: \\\" +scenario.id_num +\\\" \\\\n\\\";\\nscenario.message += \\\"כתובת מוצא: \\\" + scenario.origin.entity +\\\" \\\\n\\\";\\nscenario.message += \\\"כתובת יעד: \\\" + scenario.destination.entity + \\\" \\\\n\\\"\\nscenario.message += \\\"מסלול נבחר: \\\" + scenario.route.entity + \\\" \\\\n\\\"\\n\"},{\"id\":\"5aea5f1c87b9-4f5fca24fc856c38-464e\",\"type\":\"prompt\",\"dataType\":\"[\\\"ביטול\\\",\\\"אישור\\\"]\",\"designer\":{\"xLocation\":629,\"yLocation\":593,\"next\":\"47873498853f-31f5119ba827422f-136d\",\"listStyle\":3},\"text\":\"scenario.message\",\"variable\":\"final_step\",\"stringId\":\"stringId_79623eca2de4dde2\",\"choiceType\":\"choice\"},{\"id\":\"e457915161e7-75e6612a6a77da5e-51bd\",\"type\":\"datasource\",\"designer\":{\"xLocation\":746,\"yLocation\":520,\"next\":\"2877b5bc5833-d6612ce3a2c5f3fd-2999\"},\"dataConnection\":\"\",\"urlBase\":\"https://drivingmod.azurewebsites.net/api\",\"urlPath\":\"/UpdateDetails\",\"urlParams\":\"code=wSUItIR2v//iRcRT9cuPbBziVPe0yvxSeSQNDYr4EjiM1n01Fwgm6w==\",\"contentType\":\"raw\",\"method\":\"post\",\"headers\":\"\",\"payload\":\"{\\r\\n    \\\"origin\\\": scenario.origin.entity,\\r\\n    \\\"dest\\\": scenario.destination.entity,\\r\\n    \\\"route\\\": scenario.route.entity,\\r\\n    \\\"id_num\\\": scenario.id_num\\r\\n}\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"result\"},{\"id\":\"47873498853f-31f5119ba827422f-136d\",\"type\":\"branch\",\"condition\":\"scenario.final_step.index==1\",\"designer\":{\"xLocation\":567,\"yLocation\":400,\"next\":\"088c0847698f-93174507d196ba1b-3e98\"},\"targetStepId\":\"e457915161e7-75e6612a6a77da5e-51bd\"}],\"interrupting\":false,\"breaking\":false,\"returningMessage\":\"\"}"
}